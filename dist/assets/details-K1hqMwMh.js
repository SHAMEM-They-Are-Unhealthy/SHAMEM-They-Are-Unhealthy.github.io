import"./NavBar-fI6Nk3Gk.js";const g=t=>{var e;return((e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)"))==null?void 0:e.pop())||""};function m(t,e,a,u){return t+(e-t)/(a*7)*u}function h(t,e){var a=Math.abs(e-t);return a/(1e3*60*60*24)}function w(t){return Array(7).fill(new Date(t)).map((e,a)=>new Date(e.setDate(e.getDate()-e.getDay()+a)))}$(document).ready(function(){g("session-id")!=null?$.get("https://shamem.glitch.me/login_test",{sessionID:g("session-id")}).done(function(t,e){document.cookie="session-id="+t+"; path=/",$.get("https://shamem.glitch.me/get_plan",{sessionID:g("session-id")}).done(function(a,u){var n=JSON.parse(a);document.cookie="session-id="+n.uuid+"; path=/";var l=n.result,d=Number(n.data[0])*100,s=n.time,i=new Date(n.start),f=new Date(new Date(n.start).getTime()+s*7*24*60*60*1e3),o=new Date;document.getElementById("startDate").innerHTML="Start: "+i.toLocaleDateString(),document.getElementById("endDate").innerHTML="End: "+f.toLocaleDateString(),document.getElementById("today").innerHTML="You should do "+Math.round(m(d,l,s,h(i,o))/10)*10+" steps today",document.getElementById("tomorrow").innerHTML="You should do "+Math.round(m(d,l,s,h(i,o.setDate(o.getDate()+1)))/10)*10+" steps tomorrow";var c=[];o=new Date;for(var D=w(o),r=0;r<7;r++)D[r]>=i?c.push(Math.round(m(d,l,s,h(i,D[r]))/10)*10):c.push(0);var p=["lightblue","lightblue","lightblue","lightblue","lightblue","lightblue","lightblue"];p[o.getDay()]="blue",new Chart(document.getElementById("day-chart"),{type:"bar",data:{labels:["Sun","Mon","Tue","Wed","Thurs","Fri","Sat"],datasets:[{label:"Steps Required this today",data:c,backgroundColor:p}]},options:{legend:{display:!1},title:{display:!0,text:"Steps Required this week"},animation:!1}})}).fail(function(a,u){window.location="/tracker/"})}).fail(function(t,e){console.log(t),window.location="/login/?tracker=true"}):window.location="/login/?tracker=true"});
